# 用通配符进行过滤

使用通配符和like操作符进行通配操作。

## like 操作符

之前提到的过滤方式在某些情况并不好用，比如搜索产品中包含文本`bean bag`的产品，这时可以使用通配符，利用通配符可以创造比较特定数据的**搜索模式**。

> **通配符**
> 用来匹配值的一部分特殊字符。
> **搜索模式**
> 由字面值、通配符或两者组合构成的搜索条件。

为在搜索子句中使用通配符，必须使用like操作符，只是DBMS后面跟的搜索模式利用通配符匹配而不是简单的相等匹配进行比较。

**通配符搜索只能用于文本字段**，在非文本数据类型字段不能使用通配符搜索。

### 百分号(%)通配符

表示任何字符出现任意次数。

查找以Fish起头的产品：

```SQL
select prod_id, prod_price, prod_name
from Products
where prod_name like 'Fish%';
```

**大小写是否区分与DBMS的设定有关。**

通配符可以在搜索模式中的任意位置使用，可以使用多个通配符。

```SQL
select prod_id, prod_price, prod_name
from Products
where prod_name like '%bean bag%';
```

- %能匹配0个字符。
- 在一些DBMS中，会使用空格来填补字段的内容，如果用`F%y`来匹配F开头，y结尾可能不能成功。
- `%`似乎是可以匹配任何东西的，但是`NULL`除外。

### 下划线(_)通配符

与%类似，但是它只匹配单个字符。

```sql
select prod_id, prod_price, prod_name
from Products
where prod_name like '__ inch teddy bear'
```

### 方括号([])通配符

方括号通配符用来指定一个字符集，它必须匹配指定位置的**一个字符**。

**并不是所有的DBMS支持`[]`**，

比如`MySQL`就不支持。。。

## 使用通配符的技巧

通配符搜索虽然很有用，但是一般比前面讨论的其他搜索要花费更多的处理时间。

- 不要过度的使用通配符
- 在确定需要使用通配符的时候，也尽量把他们放到搜索模式的后面。
- 仔细注意通配符的位置。