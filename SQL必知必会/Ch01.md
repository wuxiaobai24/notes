# Ch01 了解SQL

## 数据库基础

### 数据库

> **数据库(database)**
> 保存有组织的数据的容器

_PS:数据库软件应该被称为**DBMS**,数据库是通过DBMS来创建和操纵的容器。_

### 表

> **表(table)**
> 某种特定类型数据的结构化清单。

- **存储在表中的数据是同一种类型的数据或清单。**如果有两种不同的数据应该创建两个表来存储（放在一个表会让检索和访问变得困难）
- **数据库中的每一个表都有一个唯一名字来标识自己**，在不同的数据库中可以同名

> **模式**
> 关于数据库和表的布局及特性的信息。

### 列和数据类型 

表由列组成，列存储表中某部分的信息。

> **列(column)**
> 表中的一个字段。所有表都是由一个或多个列组成的。

数据库中每个列都有相应的数据类型，定义了列可以存储那些数据种类。

> **数据类型**
> 所允许的数据的类型，每个表列都有相应的数据类型。

- 数据类型及其名称是SQL不兼容的一个主要原因。

### 行

表中的数据是按行存储的，所保存的每个记录存储在自己的行内。

> **行(row)**
> 表中的一个记录（record)

### 主键

表中每一行都应该有一列（或几列）可以唯一标识自己（也就是id什么的啦）

> **主键(primary key)**
> 一列（或一组列），其值能够唯一标识表中的每一行。

- 没有主键，更新或删除表中特定行就极为困难。

**注意：**应该总是定义主键

表中的任何列都可以作为主键，只要满足以下条件：

- 任意两行都不具备相同的主键值。
- 每一行必须具有一个主键值（主键列不允许`NULL`值）。
- 主键列中的值不能修改或更新。
- 主键值不能重用（即如果某行存表中删除，它的主键不能赋值给以后的行。


## 什么是SQL

> SQL(Structured Query Language,结构化查询语言)
> 一种专门用来与数据库沟通的语言。

优点：

- 不是某个特定数据库供应商的专有语言，几乎所有重要的DBMS都支持SQL.
- 简单易学
- 灵活，强有力


## 动手实践

[获取样例表](http://www.forta.com/books/0672336073/)

在Downloads and Support中下载对应的`database`或`SQL Script`,我这里下载的是MySQL的`SQL Script`。

在`./mysql/README.pdf`包含了使用方法。

安装`MySQL`:

```bash
sudo apt-get install mysql-server mysql-client
# 安装mysql-workbench
sudo apt-get install mysql-workbench
```

安装期间会让你设置数据库`root`的密码。

用`sudo netstat -tap | grep mysql`来检查是否安装成功（在我这需要等待10秒左右才会输出结果),如果安装成功的话可以看到`mysqld`处于`LISTEN`状态。

简单的使用：

```bash
# start
sudo mysql start # 其实默认开机自启

# 打开MySQL命令行

mysql -u root -p

输入\q退出命令行
```
这里主要还是用`MySQL Workbench`来进行学习。

打开`MySQL Workbench`后连接数据库，然后，创建一个新的`schemas`(也就是表啦)，选中这个新创建的数据库（可以双击？）也可以输入`USE learn_sql`并执行来选择(learn_sql是我新创建的表名)，然后在将`./mysql/create.txt`复制粘贴，执行，如果没出错的话，再用同样的方法执行`./mysql/populate.txt`里的东西。

用`select * from Customes`来进行测试。